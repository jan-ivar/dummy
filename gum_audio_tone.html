<html>
<meta charset=utf-8>
<div id="div"></div>
<audio id="audio" autoplay controls></video><br>
<script>
const console = { log: msg => div.innerHTML += msg + "<br>" };

(async () => {
  try {
    await navigator.mediaDevices.getUserMedia({audio: true});
    audio.srcObject = getTone();
  } catch(e) {
    console.log(e);
  }
})();

function getTone() {
  const ctx = new AudioContext(), oscillator = ctx.createOscillator();
  const dst = oscillator.connect(ctx.createMediaStreamDestination());
  oscillator.start();
  return dst.stream;
}


</script>
</html>
