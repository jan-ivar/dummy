<html>
<meta charset=utf-8>
<video id="video" width="320" height="200" autoplay></video><br>
<button id="fullscreen">Fullscreen</button>
<button id="camera">Camera</button>
<div id="div" style="white-space: pre;"></div>
<script>
const console = {log: msg => div.innerHTML += msg + "<br>"};
const wait = ms => new Promise(resolve => setTimeout(resolve, ms));

camera.onclick = async () => {
  try {
    video.srcObject = await navigator.mediaDevices.getUserMedia({video: {height: 9999}, audio: true});
  } catch(e) {
    console.log(e);
  }
};

fullscreen.onclick = async () => {
  try {
    await video.requestFullscreen();
    await wait(5000);
    document.exitFullscreen();
  } catch (e) {
    console.log(e);
  }
};
</script>
</html>
